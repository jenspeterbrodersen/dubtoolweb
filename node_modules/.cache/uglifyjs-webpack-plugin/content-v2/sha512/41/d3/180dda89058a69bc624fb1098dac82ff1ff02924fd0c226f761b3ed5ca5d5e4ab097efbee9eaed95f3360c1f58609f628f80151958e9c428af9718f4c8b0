{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{ZO8y:function(n,i,e){var l=e(\"cY33\");\"string\"==typeof l&&(l=[[n.i,l,\"\"]]);var t={hmr:!0,transform:void 0,insertInto:void 0};e(\"aET+\")(l,t);l.locals&&(n.exports=l.locals)},cY33:function(n,i,e){(n.exports=e(\"I1BE\")(!1)).push([n.i,\"  .btn {   \\n    border: 1px solid lightsalmon;\\n  }\\n\",\"\"])},tjUo:function(n,i,e){\"use strict\";e.r(i),function(n,i){e(\"EVdn\"),e(\"LvDl\"),e(\"ZO8y\");document.body.appendChild(function(){let n=document.createElement(\"div\");return n.innerHTML='<div id=\"wrapper\" class=\"toggled\">        \\n    <div id=\"page-content-wrapper\">\\n        <div class=\"container-fluid\">\\n            <div class=\"row\">\\n                <div class=\"col-lg-12\">\\n                    <h1>Convert manuscript from XML to XLSX</h1>\\n                    <div class=\"container filebutton\">\\n                        <label class=\"btn btn-default btn-file\">Upload XML file...<input type=\"file\" id=\"inputfile\" style=\"display: none;\"></label>\\n                        <label class=\"btn btn-default btn-file\" id=\"download\" style=\"display:none\"><a href=\"file.csv\" id=\"link\">Download XLSX file</a></label>\\n                    </div>\\n                    <div class=\"container filename\"><div id=\"list\"></div></div>\\n                    <div class=\"container strip col-md-12\"><div id=\"csv\"></div></div>                    \\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n  </div>',n}()),console.log(\"HELLOtoday333\"),window.onload=function(){var e=381,l=277,t=[],o=null,a=[],d=new RegExp('(left=\"'+e+'\")(.*?)>(.*?)<'),s=new RegExp('(left=\"'+l+'\")(.*?)>(.*?)<');n(\"#inputfile\").change(function(c){var r=c.target.files[0],f=r.name.replace(/.[^.]*$/,\"\");n(\"#list\").text(\"Filename: \"+r.name),function(c,r){var f=new FileReader,u=c.files[0];f.onload=function(){var c=this.result.split(\"\\n\");c.forEach(function(n){(n.indexOf('left=\"'+e+'\"')>-1||n.indexOf('left=\"'+l+'\"')>-1)&&t.push(n)}),t.forEach(function(n){if(n.indexOf('left=\"'+e+'\"')>-1)return!o||o.dialogue?(o={name:d.exec(n)[3],dialogue:null},void a.push(o)):void(o.name=`${o.name} ${d.exec(n)[3]}`);var i=s.exec(n)[3];i=(i=i.replace(/&lt;/g,\"[\").replace(/&gt;/g,\"]\")).replace(/&quot;/g,'\"'),o.dialogue=o.dialogue?`${o.dialogue} ${i}`:i});!function(){var n=null;a.slice(0),i.map(a,function(e,l){var t=i.find(a,function(t,o){if(l>o)return n=o,i.isEqual(t,e)});return t?(e.isDuplicate=!0,e.originalLine=n+2,e):e})}(),console.log(\"script\",a),function(){n(\"#csv\").append(\"<div class='col-md-3'><strong>CHARACTER</strong></div><div class='col-md-9'><strong>DIALOGUE</strong></div>\"),a.forEach(function(i){n(\"#csv\").append(\"<div class='col-md-3'>\"+i.name+\"</div><div class='col-md-9'>\"+i.dialogue+\"</div>\")})}(),a.push({filename:r}),function(i){n.ajax({type:\"POST\",url:\"./excel.php\",data:{json:JSON.stringify(i)},dataType:\"json\"})}(a),n(\"#link\").attr(\"href\",\"http://www.jenspeter.net/dubtoolonline/\"+r+\".xlsx\"),n(\"#download\").show()},f.readAsText(u)}(inputfile,f)})}}.call(this,e(\"EVdn\"),e(\"LvDl\"))}},[[\"tjUo\",2,1]]]);","extractedComments":[]}